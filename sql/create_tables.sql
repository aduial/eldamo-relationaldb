-- MySQL dump 10.13  Distrib 5.7.17, for macos10.12 (x86_64)
--
-- Host: localhost    Database: eldamo
-- ------------------------------------------------------
-- Server version	5.6.35

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `CAT`
--

DROP TABLE IF EXISTS `CAT`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `CAT` (
  `ID` int(11) NOT NULL,
  `LABEL` varchar(255) DEFAULT NULL,
  `PARENT_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `CAT_CAT_FK` (`PARENT_ID`),
  CONSTRAINT `CAT_CAT_FK` FOREIGN KEY (`PARENT_ID`) REFERENCES `CAT` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `DOC`
--

DROP TABLE IF EXISTS `DOC`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `DOC` (
  `ID` int(11) NOT NULL,
  `TXT` varchar(4000) NOT NULL,
  `DOCTYPE_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `DOC_TYPE_FK_idx` (`DOCTYPE_ID`),
  CONSTRAINT `DOC_TYPE_FK` FOREIGN KEY (`DOCTYPE_ID`) REFERENCES `TYPE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ENTRY`
--

DROP TABLE IF EXISTS `ENTRY`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ENTRY` (
  `ID` int(11) NOT NULL,
  `FORM_ID` int(11) NOT NULL COMMENT 'word form in FORM table\nNOTE the speech attribute/s is/are found through LINKED - LINKED_FORMTYPE',
  `LANGUAGE_ID` int(11) NOT NULL,
  `GLOSS_ID` int(11) DEFAULT NULL,
  `CAT_ID` int(11) DEFAULT NULL,
  `RULE_FORM_ID` int(11) DEFAULT NULL COMMENT 'links to FORM being a phonetic form of sorts',
  `FROM_FORM_ID` int(11) DEFAULT NULL COMMENT 'links to (phonetic type) form, also RULE_FORM_ID',
  `STEM_FORM_ID` int(11) DEFAULT NULL,
  `TENGWAR` varchar(100) DEFAULT NULL,
  `MARK` varchar(10) DEFAULT NULL,
  `ELDAMO_PAGEID` varchar(50) DEFAULT NULL,
  `ORDERFIELD` varchar(50) DEFAULT NULL,
  `ORTHO_FORM_ID` int(11) DEFAULT NULL,
  `PARENT_ID` int(11) DEFAULT NULL,
  `ORDERING` tinyint(4) DEFAULT NULL,
  `ENTRYTYPE_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `ENTRY_LANGUAGE_FK` (`LANGUAGE_ID`),
  KEY `ENTRY_FORM_FK` (`FORM_ID`),
  KEY `ENTRY_GLOSS_FK` (`GLOSS_ID`),
  KEY `ENTRY_CAT_FK` (`CAT_ID`),
  KEY `ENTRY_STEMFORM_FK` (`STEM_FORM_ID`),
  KEY `ENTRY_FROMFORM_FK_idx` (`FROM_FORM_ID`),
  KEY `ENTRY_TYPE_FK_idx` (`ENTRYTYPE_ID`),
  KEY `ENTRY_RULEFORM_FK_idx` (`RULE_FORM_ID`),
  CONSTRAINT `ENTRY_CAT_FK` FOREIGN KEY (`CAT_ID`) REFERENCES `CAT` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `ENTRY_FORM_FK` FOREIGN KEY (`FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `ENTRY_FROMFORM_FK` FOREIGN KEY (`FROM_FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `ENTRY_GLOSS_FK` FOREIGN KEY (`GLOSS_ID`) REFERENCES `GLOSS` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `ENTRY_LANGUAGE_FK` FOREIGN KEY (`LANGUAGE_ID`) REFERENCES `LANGUAGE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `ENTRY_RULEFORM_FK` FOREIGN KEY (`RULE_FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `ENTRY_STEMFORM_FK` FOREIGN KEY (`STEM_FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `ENTRY_TYPE_FK` FOREIGN KEY (`ENTRYTYPE_ID`) REFERENCES `TYPE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ENTRY_DOC`
--

DROP TABLE IF EXISTS `ENTRY_DOC`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ENTRY_DOC` (
  `ENTRY_ID` int(11) NOT NULL,
  `DOC_ID` int(11) NOT NULL,
  `ORDERING` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'Ordering and Doctype together allow ordering-per-doctype for an Entry',
  KEY `ENTRY_DOC_ENTRY_ID_idx` (`ENTRY_ID`),
  KEY `ENTRY_DOC_DOC_ID_idx` (`DOC_ID`),
  CONSTRAINT `ENTRY_DOC_DOC_FK` FOREIGN KEY (`DOC_ID`) REFERENCES `DOC` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `ENTRY_DOC_ENTRY_FK` FOREIGN KEY (`ENTRY_ID`) REFERENCES `ENTRY` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `EXAMPLE`
--

DROP TABLE IF EXISTS `EXAMPLE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `EXAMPLE` (
  `LINKED_ID` int(11) DEFAULT NULL,
  `REF_ID` int(11) DEFAULT NULL,
  `SOURCE_ID` int(11) NOT NULL,
  `FORM_ID` int(11) NOT NULL,
  `ORDERING` tinyint(4) DEFAULT '1',
  `EXAMPLETYPE_ID` int(11) DEFAULT '0',
  KEY `LINKED_FK_idx` (`LINKED_ID`),
  KEY `SOURCE_FK_idx` (`SOURCE_ID`),
  KEY `FORM_FK_idx` (`FORM_ID`),
  KEY `EXAMPLE_REF_ID_idx` (`REF_ID`),
  KEY `EXAPLE_TYPE_FK_idx` (`EXAMPLETYPE_ID`),
  CONSTRAINT `EXAMPLE_FORM_FK` FOREIGN KEY (`FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `EXAMPLE_LINKED_FK` FOREIGN KEY (`LINKED_ID`) REFERENCES `LINKED` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `EXAMPLE_REF_ID` FOREIGN KEY (`REF_ID`) REFERENCES `REF` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `EXAMPLE_SOURCE_FK` FOREIGN KEY (`SOURCE_ID`) REFERENCES `SOURCE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `EXAPLE_TYPE_FK` FOREIGN KEY (`EXAMPLETYPE_ID`) REFERENCES `TYPE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `FORM`
--

DROP TABLE IF EXISTS `FORM`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `FORM` (
  `ID` int(11) NOT NULL,
  `TXT` varchar(255) NOT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `GLOSS`
--

DROP TABLE IF EXISTS `GLOSS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `GLOSS` (
  `ID` int(11) NOT NULL,
  `LANGUAGE_ID` int(11) NOT NULL,
  `TXT` varchar(255) NOT NULL,
  PRIMARY KEY (`ID`),
  KEY `GLOSS_LANGUAGE_Fk` (`LANGUAGE_ID`),
  CONSTRAINT `GLOSS_LANGUAGE_Fk` FOREIGN KEY (`LANGUAGE_ID`) REFERENCES `LANGUAGE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `GRAMMAR`
--

DROP TABLE IF EXISTS `GRAMMAR`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `GRAMMAR` (
  `ID` int(11) NOT NULL,
  `TXT` varchar(100) NOT NULL,
  `GRAMMARTYPE_ID` int(11) NOT NULL,
  PRIMARY KEY (`ID`),
  KEY `GRAMMAR_TYPE_FK_idx` (`GRAMMARTYPE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `LANGUAGE`
--

DROP TABLE IF EXISTS `LANGUAGE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `LANGUAGE` (
  `ID` int(11) NOT NULL,
  `NAME` varchar(255) NOT NULL,
  `MNEMONIC` varchar(10) DEFAULT NULL,
  `PARENT_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `LANGUAGE_PARENTLANGUAGE_FK_idx` (`PARENT_ID`),
  CONSTRAINT `LANGUAGE_PARENTLANGUAGE_FK` FOREIGN KEY (`PARENT_ID`) REFERENCES `LANGUAGE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `LANGUAGE_DOC`
--

DROP TABLE IF EXISTS `LANGUAGE_DOC`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `LANGUAGE_DOC` (
  `LANGUAGE_ID` int(11) NOT NULL,
  `DOC_ID` int(11) NOT NULL,
  `ORDERING` tinyint(4) NOT NULL DEFAULT '0' COMMENT 'Ordering and Doctype together allow ordering-per-doctype for a Language',
  PRIMARY KEY (`LANGUAGE_ID`,`DOC_ID`,`ORDERING`),
  KEY `LANGUAGE_DOC_DOC_FK` (`DOC_ID`),
  CONSTRAINT `LANGUAGE_DOC_DOC_FK` FOREIGN KEY (`DOC_ID`) REFERENCES `DOC` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `LANGUAGE_DOC_LANGUAGE_FK` FOREIGN KEY (`LANGUAGE_ID`) REFERENCES `LANGUAGE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `LINKED`
--

DROP TABLE IF EXISTS `LINKED`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `LINKED` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `LINKEDTYPE_ID` int(4) NOT NULL,
  `ENTRY_ID` int(11) DEFAULT NULL,
  `REF_ID` int(11) DEFAULT NULL,
  `TO_LANGUAGE_ID` int(11) DEFAULT NULL,
  `TO_ENTRY_ID` int(11) DEFAULT NULL COMMENT 'derived column to be filled later',
  `ORDERING` tinyint(4) DEFAULT '1' COMMENT 'can be used to fix order when there are multiple rows under a single parent',
  `SOURCE_ID` int(11) DEFAULT NULL,
  `MARK` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `LINKED_ENTRY_FK_idx` (`ENTRY_ID`),
  KEY `LINKED_SOURCE_FK_idx` (`SOURCE_ID`),
  KEY `LINKED_REF_FK_idx` (`REF_ID`),
  KEY `LINKED_TO_ENTRY_FK_idx` (`TO_ENTRY_ID`),
  KEY `LINKED_TO_LANGUAGE_FK_idx` (`TO_LANGUAGE_ID`),
  KEY `LINKED_TYPE_FK_idx` (`LINKEDTYPE_ID`),
  CONSTRAINT `LINKED_ENTRY_FK` FOREIGN KEY (`ENTRY_ID`) REFERENCES `ENTRY` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `LINKED_REF_FK` FOREIGN KEY (`REF_ID`) REFERENCES `REF` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `LINKED_SOURCE_FK` FOREIGN KEY (`SOURCE_ID`) REFERENCES `SOURCE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `LINKED_TO_ENTRY_FK` FOREIGN KEY (`TO_ENTRY_ID`) REFERENCES `ENTRY` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `LINKED_TO_LANGUAGE_FK` FOREIGN KEY (`TO_LANGUAGE_ID`) REFERENCES `LANGUAGE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `LINKED_TYPE_FK` FOREIGN KEY (`LINKEDTYPE_ID`) REFERENCES `TYPE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=66356 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `LINKED_FORM`
--

DROP TABLE IF EXISTS `LINKED_FORM`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `LINKED_FORM` (
  `LINKED_ID` int(11) NOT NULL,
  `FORM_ID` int(11) NOT NULL,
  `ORDERING` tinyint(4) NOT NULL DEFAULT '1',
  KEY `DERIVFORM_DERIV_FK_idx` (`LINKED_ID`),
  KEY `DERIVFORM_FORM_FK_idx` (`FORM_ID`),
  CONSTRAINT `LINKEDFORM_FORM_FK` FOREIGN KEY (`FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `LINKEDFORM_LINKED_FK` FOREIGN KEY (`LINKED_ID`) REFERENCES `LINKED` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `LINKED_GRAMMAR`
--

DROP TABLE IF EXISTS `LINKED_GRAMMAR`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `LINKED_GRAMMAR` (
  `LINKED_ID` int(11) DEFAULT NULL,
  `ENTRY_ID` int(11) DEFAULT NULL,
  `GRAMMAR_ID` int(11) NOT NULL,
  `ORDERING` tinyint(4) NOT NULL DEFAULT '1',
  KEY `LINKED_GRAMMAR_GRAMMAR_FK_idx` (`GRAMMAR_ID`),
  KEY `LINKED_GRAMMAR_LINKED_FK` (`LINKED_ID`),
  KEY `LINKED_GRAMMAR_ENTRY_idx` (`ENTRY_ID`),
  CONSTRAINT `LINKED_GRAMMAR_ENTRY` FOREIGN KEY (`ENTRY_ID`) REFERENCES `ENTRY` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `LINKED_GRAMMAR_GRAMMAR_FK` FOREIGN KEY (`GRAMMAR_ID`) REFERENCES `GRAMMAR` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `LINKED_GRAMMAR_LINKED_FK` FOREIGN KEY (`LINKED_ID`) REFERENCES `LINKED` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `REF`
--

DROP TABLE IF EXISTS `REF`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `REF` (
  `ID` int(11) NOT NULL,
  `ENTRY_ID` int(11) DEFAULT NULL,
  `FORM_ID` int(11) NOT NULL,
  `GLOSS_ID` int(11) DEFAULT NULL,
  `LANGUAGE_ID` int(11) DEFAULT NULL,
  `SOURCE_ID` int(11) NOT NULL,
  `MARK` varchar(10) DEFAULT NULL,
  `RULE_FROMFORM_ID` int(11) DEFAULT NULL,
  `RULE_RLFORM_ID` int(11) DEFAULT NULL,
  `RULE_RULEFORM_ID` int(11) DEFAULT NULL,
  `ORDERING` int(11) DEFAULT NULL COMMENT 'to keep the relative ordering under an ENTRY',
  `ENTRYTYPE_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `REF_FORM_FK` (`FORM_ID`),
  KEY `REF_GLOSS_FK` (`GLOSS_ID`),
  KEY `REF_LANGUAGE_FK` (`LANGUAGE_ID`),
  KEY `REF_SOURCE_FK` (`ENTRY_ID`),
  KEY `REF_RULEFROMFORM_FK_idx` (`RULE_FROMFORM_ID`),
  KEY `REF_RULERLFORM_FK_idx` (`RULE_RLFORM_ID`),
  KEY `REF_RULEFORM_FK_idx` (`RULE_RULEFORM_ID`),
  KEY `REF_SOURCE_FK_idx` (`SOURCE_ID`,`RULE_RLFORM_ID`),
  KEY `REF_ENTRY_TYPE_FK_idx` (`ENTRYTYPE_ID`),
  CONSTRAINT `REF_ENTRY_FK` FOREIGN KEY (`ENTRY_ID`) REFERENCES `ENTRY` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `REF_ENTRY_TYPE_FK` FOREIGN KEY (`ENTRYTYPE_ID`) REFERENCES `TYPE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `REF_FORM_FK` FOREIGN KEY (`FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `REF_GLOSS_FK` FOREIGN KEY (`GLOSS_ID`) REFERENCES `GLOSS` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `REF_LANGUAGE_FK` FOREIGN KEY (`LANGUAGE_ID`) REFERENCES `LANGUAGE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `REF_RULEFORM_FK` FOREIGN KEY (`RULE_RULEFORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `REF_RULEFROMFORM_FK` FOREIGN KEY (`RULE_FROMFORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT `REF_RULERLFORM_FK` FOREIGN KEY (`RULE_RLFORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `RULE`
--

DROP TABLE IF EXISTS `RULE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `RULE` (
  `ID` int(11) NOT NULL,
  `ENTRY_ID` int(11) NOT NULL,
  `FROM_FORM_ID` int(11) NOT NULL COMMENT 'Phonetic entries are encapsulated in the Form table',
  `RULE_FORM_ID` int(11) NOT NULL COMMENT 'Phonetic entries are encapsulated in the Form table',
  `LANGUAGE_ID` int(11) NOT NULL,
  `ORDERING` tinyint(4) NOT NULL DEFAULT '1',
  PRIMARY KEY (`ID`),
  KEY `RULE_ENTRY_FK_idx` (`ENTRY_ID`),
  KEY `RULE_LANGUAGE_FK_idx` (`LANGUAGE_ID`),
  KEY `PHN_FROM_FK_idx` (`FROM_FORM_ID`),
  KEY `PHN_RULE_FK_idx` (`RULE_FORM_ID`),
  CONSTRAINT `RULE_ENTRY_FK` FOREIGN KEY (`ENTRY_ID`) REFERENCES `ENTRY` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `RULE_FROMFORM_FK` FOREIGN KEY (`FROM_FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `RULE_LANGUAGE_FK` FOREIGN KEY (`LANGUAGE_ID`) REFERENCES `LANGUAGE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `RULE_RULEFORM_FK` FOREIGN KEY (`RULE_FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `RULESEQUENCE`
--

DROP TABLE IF EXISTS `RULESEQUENCE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `RULESEQUENCE` (
  `DERIV_ID` int(11) NOT NULL,
  `FROM_FORM_ID` int(11) DEFAULT NULL,
  `LANGUAGE_ID` int(11) DEFAULT NULL,
  `RULE_FORM_ID` int(11) DEFAULT NULL,
  `TO_FORM_ID` int(11) DEFAULT NULL,
  `TO_ENTRY_ID` int(11) DEFAULT NULL COMMENT 'can be used later to construct direct links from the to_form and language columns',
  `ORDERING` tinyint(4) DEFAULT '1',
  KEY `RULESEQ_LANGUAGE_FK` (`LANGUAGE_ID`),
  KEY `RULESEQ_FROMFORM_FK` (`FROM_FORM_ID`),
  KEY `RULESEQ_DERIV_FK_idx` (`DERIV_ID`),
  KEY `RULESEQ_TOFORM_FK_idx` (`TO_FORM_ID`),
  KEY `RULESEQ_RULEFORM_FK_idx` (`RULE_FORM_ID`),
  KEY `RULESEQ_TOENTRY_FK_idx` (`TO_ENTRY_ID`),
  CONSTRAINT `RULESEQ_DERIV_FK` FOREIGN KEY (`DERIV_ID`) REFERENCES `LINKED` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `RULESEQ_FROMFORM_FK` FOREIGN KEY (`FROM_FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `RULESEQ_LANGUAGE_FK` FOREIGN KEY (`LANGUAGE_ID`) REFERENCES `LANGUAGE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `RULESEQ_RULEFORM_FK` FOREIGN KEY (`RULE_FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `RULESEQ_TOENTRY_FK` FOREIGN KEY (`TO_ENTRY_ID`) REFERENCES `ENTRY` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `RULESEQ_TOFORM_FK` FOREIGN KEY (`TO_FORM_ID`) REFERENCES `FORM` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `SOURCE`
--

DROP TABLE IF EXISTS `SOURCE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `SOURCE` (
  `ID` int(11) NOT NULL,
  `NAME` varchar(255) DEFAULT NULL,
  `PREFIX` varchar(255) DEFAULT NULL,
  `SOURCETYPE_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `SOURCE_TYPE_FK_idx` (`SOURCETYPE_ID`),
  CONSTRAINT `SOURCE_TYPE_FK` FOREIGN KEY (`SOURCETYPE_ID`) REFERENCES `TYPE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `SOURCE_DOC`
--

DROP TABLE IF EXISTS `SOURCE_DOC`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `SOURCE_DOC` (
  `SOURCE_ID` int(11) NOT NULL,
  `DOC_ID` int(11) NOT NULL,
  `ORDERING` tinyint(4) NOT NULL,
  PRIMARY KEY (`SOURCE_ID`,`DOC_ID`),
  KEY `SOURCE_NOTE_DOC_FK` (`DOC_ID`),
  CONSTRAINT `SOURCE_NOTE_DOC_FK` FOREIGN KEY (`DOC_ID`) REFERENCES `DOC` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `SOURCE_NOTE_SOURCE_FK` FOREIGN KEY (`SOURCE_ID`) REFERENCES `SOURCE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `TYPE`
--

DROP TABLE IF EXISTS `TYPE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `TYPE` (
  `ID` int(11) NOT NULL COMMENT 'Doctype: Notes, etcetera',
  `TXT` varchar(50) NOT NULL,
  `PARENT_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `TYPE_TYPE_FK_idx` (`PARENT_ID`),
  CONSTRAINT `TYPE_TYPE_FK` FOREIGN KEY (`PARENT_ID`) REFERENCES `TYPE` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2017-06-09  1:25:56
